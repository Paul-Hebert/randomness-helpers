---
import Layout from "../layouts/Layout.astro";
import Example from "../components/Example.astro";
import ColorExample from "../components/ColorExample.astro";
import { seeded } from "../../lib/index.js";
import { Code } from "astro/components";

const startingSeed = Math.random();
const rando = seeded(startingSeed);
---

<Layout title="Seeded">
  <h1>Seeded</h1>

  <p>
    A collection of helper functions to generate seeded random values for
    generative art.
  </p>

  <h2>Installation</h2>

  <Code lang="bash" code="npm i seeded" />

  <!-- <label
    >Current Seed: <input type="text" name="seed" value={startingSeed} /></label
  > -->

  <h2>Initialization</h2>

  <Code
    lang="js"
    code={`import { seeded } from 'seeded'; 

// Initialize our random number generator with a seed
const rando = seeded('${startingSeed}')`}
  />

  <h2>Math</h2>

  <div class="example-group">
    <Example exampleFunction={() => rando(5, 20)} seed={startingSeed} />

    <Example exampleFunction={() => rando.decimal()} seed={startingSeed} />

    <Example exampleFunction={() => rando.percent()} seed={startingSeed} />
  </div>

  <h2>Colors</h2>

  <div class="example-group">
    <Example exampleFunction={() => rando.hue()} seed={startingSeed} />
    <Example exampleFunction={() => rando.saturation()} seed={startingSeed} />
    <Example exampleFunction={() => rando.lightness()} seed={startingSeed} />
    <ColorExample exampleFunction={() => rando.hsl()} seed={startingSeed} />
  </div>

  <style is:global>
    * {
      margin: 0;
    }

    html {
      font-size: clamp(1em, calc(0.8em + 0.5vw), 1.25em);
      font-family: sans-serif;
    }

    body {
      max-width: 80ch;
      margin: 2em auto;
    }

    body > * + * {
      margin-top: 1.25em;
    }

    .example-group {
      display: flex;
      gap: 1em;
      flex-wrap: wrap;
    }

    .example-group > * {
      flex-grow: 1;
    }

    .astro-code {
      line-height: 1.5;
      padding: 1em;
      border-radius: 0.25em;
    }

    output {
      display: block;
      background: #ccd;
      padding: 1em;
      border-bottom-right-radius: 0.25em;
      border-bottom-left-radius: 0.25em;
    }

    .example .astro-code {
      margin-bottom: 0;
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
    }
  </style>
</Layout>
